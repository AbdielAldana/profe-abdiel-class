// Background 
$white: #fff;
$orange: #FF7644;
$green: #7FB069;
$blue: #556270;
$tran-speed: 60s;

// Particle setting
$particle-count: 200;
$particle-size: 1rem;
$particle-distance: 100vh;
$particle-min-speed: 5000; // ms
$particle-max-speed: 15000; // ms
$particle-max-delay: 12000; // ms



/*** <--- CONTAINER ---> ***/

.adorno {
  font-size: 16px;
  overflow: hidden;
  // background: $blue;
  // animation: changeBg $tran-speed infinite alternate;
}

@keyframes changeBg {
  0% {
    background: $blue;
  }

  33.33333333% {
    background: $green;
  }

  66.66666666% {
    background: $orange;
  }
}



/*** <--- PARTICLES ---> ***/

.bottom-particles {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;

  .bubble {
    opacity: 0;
    position: absolute;
    bottom: -$particle-size;
    width: $particle-size;
    height: $particle-size;
    background-color: rgba($white , 0.5);
    border-radius: 50%;

    // Randomize bubles
    @for $i from 1 through $particle-count {

      // random animation speed
      $speed: random($particle-max-speed) + 0ms;

      @if $speed < $particle-min-speed {
        $speed: $particle-min-speed + 0ms;
      }

      &:nth-child(#{$i}) {
        left: random(100) + 0%;
        animation: blow $speed infinite;
        animation-delay: random($particle-max-delay) + 0ms;
      }
    }

  }
}

@keyframes blow {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }

  20% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform: translate(0, -$particle-distance) scale(.2);
  }
}



$star-count: 100;
$min-size: 1px;
$max-size: 5px;
$min-duration: 1s;
$max-duration: 6s;

.stars {
  // position: fixed;
  // inset: 0;
  background: #0b1020;
  overflow: hidden;
}

.star {
  position: absolute;
  background: white;
  border-radius: 50%;
  opacity: 0;
  animation: twinkle linear infinite;

  @for $i from 1 through $star-count {
    &:nth-child(#{$i}) {
      $size: random($max-size) + $min-size;
      $duration: random(4000) + 2000ms;

      width: $size;
      height: $size;
      left: random(100) + 0%;
      top: random(100) + 0%;
      animation-duration: $duration;
      animation-delay: random(5000) + 0ms;
    }
  }
}

@keyframes twinkle {
  0% {
    opacity: 0;
    transform: scale(0.6);
  }

  50% {
    opacity: 1;
    transform: scale(1);
  }

  100% {
    opacity: 0;
    transform: scale(0.6);
  }
}



$sq-count: 100;

.float-squares {
  // position: fixed;
  // inset: 0;
  overflow: hidden;
  background: #0b1020;
}

.sq {
  position: absolute;
  opacity: 0;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.5);
  box-shadow: 0 0 18px rgba(255, 255, 255, 0.08);

  animation-name: drift;
  animation-timing-function: linear;
  animation-iteration-count: infinite;

  @for $i from 1 through $sq-count {
    &:nth-child(#{$i}) {
      // tamaño
      $size: random(26) + 6px;

      // duración y delay
      $dur: random(9000) + 2000ms;
      $delay: random(5000) + 0ms;

      // dirección aleatoria
      $dx: random(200) - 100vw; // -100vw a +100vw
      $dy: random(200) - 100vh; // -100vh a +100vh

      // rotación
      $rot: random(360) + 0deg;

      width: $size;
      height: $size;

      left: random(100) + 0%;
      top: random(100) + 0%;

      animation-duration: $dur;
      animation-delay: $delay;

      transform: translate3d(0, 0, 0) rotate($rot);

      // guardamos el vector como CSS variables
      --dx: #{$dx};
      --dy: #{$dy};
    }
  }
}

@keyframes drift {
  0% {
    opacity: 0;
    transform: translate3d(0, 0, 0) rotate(0deg);
  }

  15% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform:
      translate3d(var(--dx), var(--dy), 0) rotate(240deg);
  }
}


$frag-count: 100;

.center-fragments {
  // position: fixed;
  // inset: 0;
  overflow: hidden;
  // background: radial-gradient(circle at center, #10162a 0%, #070a12 55%, #000 100%);
}

.frag {
  position: absolute;


  opacity: 0;
  border-radius: 4px;

  // “chip” base (se ve bien en dark UI)
  background: rgba(255, 255, 255, 0.8);
  box-shadow: 0 0 18px rgba(255, 255, 255, 0.06);

  animation: burstReturn linear infinite;
  transform: translate(-50%, -50%); // punto de origen al centro

  @for $i from 1 through $frag-count {
    &:nth-child(#{$i}) {
      $l: random(100) + 1%; // 6px - 34px aprox
      $t: random(100) + 1%; // 4px - 18px aprox
      left: $l;
      top: $t;
      // tamaños variados
      $w: random(28) + 6px; // 6px - 34px aprox
      $h: random(14) + 4px; // 4px - 18px aprox

      // distancia en cualquier dirección (vector)
      $dx: (
        random(160) - 80) * 1vw; // -80vw .. +80vw
      $dy: (
        random(160) - 80) * 1vh; // -80vh .. +80vh

      // timing
      $dur: random(7000) + 1500ms; // 5s - 12s
      $delay: random(9000) + 0ms; // 0 - 9s

      // rotación
      $rot: random(360) + 0deg;

      width: $w;
      height: $h;

      animation-duration: $dur;
      animation-delay: $delay;

      // guardamos vector/rotación en variables
      --dx: #{$dx};
      --dy: #{$dy};
      --rot: #{$rot};

      // un poco de variación de alpha por elemento
      background: rgba(255, 255, 255, (random(10) + 6) / 20
      );
  }
}
}

@keyframes burstReturn {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) translate3d(0, 0, 0) rotate(0deg) scale(0.75);
  }

  12% {
    opacity: 1;
  }

  55% {
    opacity: 1;
    transform: translate(-50%, -50%) translate3d(var(--dx), var(--dy), 0) rotate(var(--rot)) scale(1);
  }

  85% {
    opacity: 0.9;
    transform: translate(-50%, -50%) translate3d(0, 0, 0) rotate(calc(var(--rot) * -1)) scale(0.85);
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -50%) translate3d(0, 0, 0) rotate(0deg) scale(0.75);
  }
}


.scanlines {
  // position: fixed;
  // inset: 0;
  overflow: hidden;
  height: 100%;
  position: relative;
  width: 100%;

  // fondo base
  // background: radial-gradient(circle at center, #0f1630 0%, #070a12 60%, #000 100%);
}

/* 1) líneas horizontales constantes */
.scanlines::before {
  content: "";
  position: absolute;
  inset: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;

  // scanlines finas
  background: repeating-linear-gradient(to bottom,
      rgba(255, 255, 255, 0.2) 0px,
      rgba(255, 255, 255, 0.2) 1px,
      transparent 1px,
      transparent 6px);

  // opacity: 0.25;
  mix-blend-mode: screen;
  // animation: driftLines 12s linear infinite;
}

/* 2) banda luminosa que recorre verticalmente */
.scanlines::after {
  content: "";
  position: absolute;
  width: 100%;
  height: 50px;
  top: 0;
  // height: 10%;
  // inset: -40% 0; // más alto para que el movimiento no corte
  pointer-events: none;

  background: linear-gradient(to bottom,
      transparent 0%,
      rgba(255, 255, 255, 0.3) 40%,
      rgba(255, 255, 255, 0.5) 50%,
      rgba(255, 255, 255, 0.3) 60%,
      transparent 100%);

  filter: blur(2px);
  // opacity: 0.6;
  animation: sweep 3.5s ease-in-out infinite;
}

@keyframes driftLines {
  0% {
    transform: translateY(0);
  }

  100% {
    transform: translateY(6px);
  }

  // igual al “gap” de las líneas
}

@keyframes sweep {
  0% {
    transform: translateY(-100%);
    opacity: 0.7;
  }

  50% {
    transform: translateY(calc(100%));
    opacity: 0.9;
  }

  100% {
    transform: translateY(-100%);
    opacity: 0.7;
  }
}


$p-count: 120;

.orbits {
  // position: fixed;
  // inset: 0;
  overflow: hidden;
  background: radial-gradient(circle at center, #0f1630 0%, #070a12 60%, #000 100%);
}

/* Cada partícula */
.p {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 999px;

  background: rgba(255, 255, 255, 0.85);
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.18);

  // “centro” de órbita: se define por variables
  left: var(--cx);
  top: var(--cy);

  // el punto se aleja del centro con translateX(radius) y luego gira
  transform: translate(-50%, -50%) rotate(0deg) translateX(var(--r));

  animation: orbit var(--dur) linear infinite;
  animation-delay: var(--delay);

  @for $i from 1 through $p-count {
    &:nth-child(#{$i}) {
      // centro aleatorio
      --cx: #{random(100)}%;
      --cy: #{random(100)}%;

      // radio 12px .. 180px
      --r: #{random(168) + 12}px;

      // duración 2s .. 12s
      --dur: #{random(10) + 2}s;

      // delay -12s .. 0s (arranca “ya en movimiento”)
      --delay: #{-(random(12))}s;

      // tamaño 1px .. 4px
      $size: random(4) + 1px;
      width: $size;
      height: $size;

      // opacidad variada
      opacity: (random(60) + 30) / 100;

      // algunos más suaves / difusos
      @if $i % 6==0 {
        filter: blur(0.6px);
      }
    }
  }
}

@keyframes orbit {
  to {
    transform: translate(-50%, -50%) rotate(360deg) translateX(var(--r));
  }
}


$glyph-count: 120;

.glyphs {
  // position: fixed;
  // inset: 0;
  overflow: hidden;
  background: radial-gradient(circle at center, #0f1630 0%, #070a12 60%, #000 100%);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.glyph {
  position: absolute;
  left: 0;
  top: 0;

  opacity: 0;
  color: rgba(255, 255, 255, 0.75);
  text-shadow: 0 0 14px rgba(255, 255, 255, 0.12);

  // El contenido sale del atributo data-glyph
  &::before {
    content: attr(data-glyph);
    display: inline-block;
  }

  animation: driftGlyph linear infinite;

  @for $i from 1 through $glyph-count {
    &:nth-child(#{$i}) {
      // posición inicial
      left: random(100) + 0%;
      top: random(100) + 0%;

      // dirección (vector) suave: -25vw..25vw y -25vh..25vh
      $dx: (
        random(50) - 25) * 1vw;
      $dy: (
        random(50) - 25) * 1vh;

      // duración / delay
      $dur: random(9000) + 6000ms; // 6s..15s
      $delay: random(12000) + 0ms;

      // tamaño tipográfico
      $fs: random(18) + 10px; // 10px..28px
      font-size: $fs;

      // rotación
      $rot: random(360) + 0deg;

      // variación de alpha
      color: rgba(255, 255, 255, (random(40) + 35) / 100
      );

    // guardamos para keyframes
    --dx: #{$dx};
    --dy: #{$dy};
    --rot: #{$rot};

    animation-duration: $dur;
    animation-delay: $delay;

    // algunos más difusos
    @if $i % 8==0 {
      filter: blur(0.6px);
      opacity: 0.6;
    }
  }
}
}

@keyframes driftGlyph {
  0% {
    opacity: 0;
    transform: translate3d(0, 0, 0) rotate(0deg) scale(0.9);
  }

  15% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform: translate3d(var(--dx), var(--dy), 0) rotate(var(--rot)) scale(1.05);
  }
}